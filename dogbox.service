[Unit]
Description=Dogbox file sharing service
After=network.target

[Service]
Type=simple
User=dogbox
Group=dogbox
WorkingDirectory=/opt/dogbox
Environment="DATABASE_URL=sqlite:/opt/dogbox/data/dogbox.db"
Environment="UPLOAD_DIR=/opt/dogbox/data/uploads"
Environment="HOST=0.0.0.0"
Environment="PORT=8080"
Environment="RUST_LOG=dogbox=info"
Environment="TEST_DELETE_PERIOD_HOURS=672"
Environment="ADMIN_MESSAGE=Hey, melty here. This is in periodic reset mode because I'm cheap. Go host it yourself, see my source code for details."
ExecStart=/opt/dogbox/dogbox
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
