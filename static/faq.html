<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>FAQ - dogbox.moe</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family:
                    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                    Oxygen, Ubuntu, sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                padding-bottom: 40px;
            }

            .content {
                max-width: 900px;
                margin: 40px auto;
                background: white;
                border-radius: 16px;
                padding: 40px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            }

            h1 {
                color: #333;
                margin-bottom: 30px;
            }

            .faq-section {
                margin-bottom: 30px;
            }

            .faq-question {
                font-weight: bold;
                color: #667eea;
                font-size: 1.2em;
                margin-bottom: 10px;
                margin-top: 25px;
            }

            .faq-answer {
                color: #555;
                line-height: 1.6;
                margin-bottom: 15px;
            }

            code {
                background: #f4f4f4;
                padding: 2px 6px;
                border-radius: 3px;
                font-family: monospace;
                color: #667eea;
            }

            .highlight-box {
                background: #f0fdf4;
                border-left: 4px solid #10b981;
                padding: 15px;
                margin: 15px 0;
                border-radius: 4px;
            }

            .warning-box {
                background: #fef3c7;
                border-left: 4px solid #f59e0b;
                padding: 15px;
                margin: 15px 0;
                border-radius: 4px;
            }

            ul {
                margin-left: 20px;
                margin-bottom: 15px;
            }

            li {
                margin-bottom: 8px;
                color: #555;
            }
        </style>
    </head>
    <body>
        <!-- Navbar will be inserted here -->
        <div id="navbar-placeholder"></div>

        <div class="content">
            <h1>Frequently Asked Questions</h1>
            <div class="faq-section">
                <div class="faq-question">
                    Why did you make this?
                </div>
                <div class="faq-answer">
                    <p>
                        I was bored one day and found flaws in catbox.moe through fuzzing.
                    </p>
                    <p>
                        I read the Snowden leaks at a young age and they made an impression upon me.
                    </p>
                    <p>
                        I like educating others about privacy and writing fearsome code and systems.
                    </p>
                </div>
            <div class="faq-section">
                <div class="faq-question">
                    üîí Why can't the server operator see my files?
                </div>
                <div class="faq-answer">
                    <p>
                        dogbox.moe uses <strong>client-side encryption</strong>,
                        inspired by Signal's zero-knowledge architecture:
                    </p>
                    <ul>
                        <li>
                            Your files are encrypted
                            <strong>in your browser</strong>
                            before upload
                        </li>
                        <li>
                            The encryption key
                            <strong>never leaves your device</strong>
                        </li>
                        <li>
                            Keys are stored in the URL fragment (after the
                            <code>#</code>), which is
                            <strong>never sent to the server</strong>
                        </li>
                        <li>
                            The server only sees encrypted blobs - without the
                            key, the files are unreadable
                        </li>
                    </ul>

                    <div class="highlight-box">
                        <strong>Technical Detail:</strong> URL fragments (#key)
                        are processed client-side only. When you visit
                        <code>dogbox.moe/f/abc123#key_here</code>, only
                        <code>dogbox.moe/f/abc123</code> is sent to the server.
                        The browser then uses the fragment to decrypt the file
                        locally.
                    </div>
                </div>

                <div class="faq-question">
                    üõ°Ô∏è What encryption does dogbox use?
                </div>
                <div class="faq-answer">
                    <p>
                        dogbox uses <strong>hybrid post-quantum encryption</strong>
                        combining ML-KEM-1024 (NIST FIPS 203) with AES-256-GCM.
                        This provides maximum security against both current and future
                        quantum computer attacks.
                    </p>

                    <p style="margin-top: 15px">
                        <strong>Encryption Stack:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>ML-KEM-1024:</strong> Maximum-security post-quantum key
                            encapsulation mechanism (Kyber, NIST standard)
                        </li>
                        <li>
                            <strong>AES-256-GCM:</strong> Symmetric encryption
                            with 128-bit authentication tags
                        </li>
                        <li>
                            <strong>Shared secret derivation:</strong> ML-KEM
                            produces 32-byte shared secret used as AES key
                        </li>
                        <li>
                            <strong>SHA-256:</strong> For integrity checking
                            (BLAKE3 planned)
                        </li>
                    </ul>

                    <p style="margin-top: 15px">
                        <strong>How it works:</strong>
                    </p>
                    <ol>
                        <li>Browser generates ML-KEM-1024 keypair</li>
                        <li>
                            Encapsulation creates shared secret + ciphertext
                        </li>
                        <li>Shared secret derives AES-256 key</li>
                        <li>File encrypted with AES-256-GCM</li>
                        <li>
                            URL contains ML-KEM secret key + ciphertext (allows
                            decapsulation)
                        </li>
                    </ol>

                    <p style="margin-top: 15px">
                        <strong>Security level:</strong> ~256-bit classical
                        security, ~192-bit quantum security (highest level in NIST FIPS 203).
                        Protected against Shor's algorithm that breaks RSA and ECC.
                    </p>

                    <p style="margin-top: 10px; font-size: 0.9em">
                        <strong>Key format:</strong> All keys start with
                        <code>DOGBOX_KEY_SYMMETRIC_</code> for easy
                        identification and security awareness.
                    </p>
                </div>

                <div class="faq-question">
                    üéØ What file formats does dogbox accept?
                </div>
                <div class="faq-answer">
                    <p>
                        <strong>To guarantee 100% metadata removal,</strong>
                        dogbox accepts these privacy-safe formats:
                    </p>
                    <ul>
                        <li>
                            <strong>PNG</strong> - For images (lossless, no
                            metadata)
                        </li>
                        <li>
                            <strong>WebM</strong> - For video and audio (open
                            codec, metadata-stripped)
                        </li>
                        <li>
                            <strong>TXT</strong> - Plain text files (no metadata)
                        </li>
                        <li>
                            <strong>ZIP</strong> - Compressed archives (up to 1GB)
                        </li>
                    </ul>

                    <p style="margin-top: 15px">
                        <strong>Why this matters:</strong> Other formats (JPEG,
                        MP4, MP3, etc.) can contain:
                    </p>
                    <ul>
                        <li>üìç GPS coordinates (where you were)</li>
                        <li>üì∑ Camera/device information</li>
                        <li>üïí Timestamps (when it was created)</li>
                        <li>üë§ Author names and software used</li>
                        <li>üí¨ Comments and hidden metadata</li>
                    </ul>

                    <div class="highlight-box">
                        <strong>Automatic Conversion:</strong> If you upload a
                        JPEG, MP4, MP3, or other format, dogbox will offer to convert
                        it for you (client-side, private): <br />‚Ä¢ Images ‚Üí PNG
                        (lossless) <br />‚Ä¢ Videos/Audio ‚Üí WebM (high quality,
                        Opus/VP9 codecs) <br />‚Ä¢ MP3 ‚Üí WebM (strips ID3 metadata tags)
                        <br /><br />All metadata is stripped during conversion,
                        which happens entirely in your browser.
                    </div>

                    <div class="warning-box" style="background: #fee2e2; border-left-color: #dc2626;">
                        <strong>‚ö†Ô∏è CRITICAL PRIVACY WARNING:</strong><br/><br/>
                        <strong>TXT and ZIP files are NOT metadata-stripped!</strong><br/><br/>
                        These file types can contain privacy-leaking information:
                        <ul style="margin-top: 10px;">
                            <li><strong>ZIP archives:</strong> Files inside may contain EXIF data, GPS coordinates, camera info, author names, timestamps, file paths revealing your username/folder structure, and more</li>
                            <li><strong>TXT files:</strong> May contain personal information, file paths, system details, or identifying patterns in plain text</li>
                        </ul>
                        <strong style="display: block; margin-top: 10px;">Before uploading TXT or ZIP files:</strong>
                        <ul style="margin-top: 5px;">
                            <li>Strip metadata from ALL files inside archives first</li>
                            <li>Review text files for personal/identifying information</li>
                            <li>Remove file paths that reveal usernames or system info</li>
                            <li>Use generic filenames (avoid "john_smith_vacation.zip")</li>
                        </ul>
                        <strong style="display: block; margin-top: 10px; color: #991b1b;">
                            Remember: dogbox encrypts but does NOT sanitize these file types.
                            The responsibility is on YOU to ensure they don't leak your identity!
                        </strong>
                    </div>

                    <p style="margin-top: 15px">
                        <strong>Technical Details:</strong>
                    </p>
                    <ul>
                        <li>
                            PNG: Re-rendered through HTML5 Canvas (no EXIF
                            support)
                        </li>
                        <li>
                            WebM: MediaRecorder API creates new stream without
                            metadata
                        </li>
                        <li>
                            All conversions happen locally - your files never
                            leave your device unprocessed
                        </li>
                    </ul>
                </div>

                <div class="faq-question">
                    üö´ What data does dogbox collect?
                </div>
                <div class="faq-answer">
                    <p><strong>Minimal metadata only:</strong></p>
                    <ul>
                        <li>File size (of encrypted blob)</li>
                        <li>Upload timestamp</li>
                        <li>Expiration date</li>
                        <li>
                            BLAKE3 hash of <em>encrypted</em> data (for
                            deduplication)
                        </li>
                    </ul>

                    <p><strong>What we DON'T collect:</strong></p>
                    <ul>
                        <li>‚ùå Decryption keys</li>
                        <li>
                            ‚ùå Original filenames (unless you encrypt and send
                            them)
                        </li>
                        <li>‚ùå IP addresses (no logging)</li>
                        <li>‚ùå User accounts or authentication</li>
                        <li>‚ùå Analytics or tracking cookies</li>
                        <li>‚ùå File content (only encrypted blobs)</li>
                        <li>‚ùå EXIF data (stripped before encryption)</li>
                    </ul>
                </div>

                <div class="faq-question">üìè What are the file size limits?</div>
                <div class="faq-answer">
                    <ul>
                        <li>
                            <strong>Maximum file size:</strong> 1 GB (1,024 MB)
                        </li>
                        <li>
                            <strong>Note:</strong> Files are encrypted before upload,
                            which adds ~1% overhead to the file size
                        </li>
                        <li>
                            <strong>Tip:</strong> For large files, compress them
                            into a ZIP archive first
                        </li>
                    </ul>
                </div>

                <div class="faq-question">‚è±Ô∏è How long are files stored?</div>
                <div class="faq-answer">
                    <ul>
                        <li>
                            <strong>Default:</strong> 24 hours (configurable at
                            upload)
                        </li>
                        <li>
                            <strong>Maximum:</strong> 7 days for expiring files
                        </li>
                        <li>
                            <strong>Permanent:</strong> Available for posts
                            (never expires)
                        </li>
                        <li>
                            <strong>Cleanup:</strong> Expired files are
                            automatically deleted hourly
                        </li>
                    </ul>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Important:</strong> Save your download links!
                        There's no way to recover files after expiration or if
                        you lose the encryption key.
                    </div>
                </div>

                <div class="faq-question">üóëÔ∏è Can I delete files early?</div>
                <div class="faq-answer">
                    <p>
                        Yes! When you upload a file, you receive a
                        <strong>deletion token</strong>. Use this token to
                        manually delete files before expiration via the API:
                    </p>
                    <code>DELETE /api/files/{id}?token={deletion_token}</code>
                </div>

                <div class="faq-question">üìä What are "posts" vs "files"?</div>
                <div class="faq-answer">
                    <p>dogbox supports two upload types:</p>

                    <p><strong>1. Files (Classic Mode):</strong></p>
                    <ul>
                        <li>One-time file uploads (like catbox.moe)</li>
                        <li>Encrypted files stored on disk</li>
                        <li>Download once, get the encrypted blob</li>
                        <li>Perfect for sharing images, documents, etc.</li>
                    </ul>

                    <p><strong>2. Posts (Appendable):</strong></p>
                    <ul>
                        <li>Text/markdown content stored in database</li>
                        <li>
                            Can append new content with
                            <code>post_append_key</code>
                        </li>
                        <li>Multiple encrypted chunks viewable in order</li>
                        <li>Perfect for collaborative notes or logs</li>
                    </ul>

                    <p>
                        See <a href="/post-types">Post Types</a> for detailed
                        information.
                    </p>
                </div>

                <div class="faq-question">üîë What is a post_append_key?</div>
                <div class="faq-answer">
                    <p>
                        When creating a <strong>post</strong>, you receive a
                        special <code>post_append_key</code> (prefixed with
                        <code>DOGBOX_KEY_APPEND_</code>) that allows you (or
                        anyone with the key) to add more encrypted content to
                        the post.
                    </p>
                    <ul>
                        <li>Each append creates a new encrypted chunk</li>
                        <li>
                            Chunks are displayed in order when viewing the post
                        </li>
                        <li>
                            The append key is separate from the encryption key
                            (which is in the URL and starts with
                            <code>DOGBOX_KEY_SYMMETRIC_</code>)
                        </li>
                        <li>
                            Only people with the append key can add content
                            (viewers don't need it)
                        </li>
                        <li>
                            <strong>Keep it secret!</strong> The prefix reminds
                            you these are sensitive credentials
                        </li>
                    </ul>
                </div>

                <div class="faq-question">üåê Is dogbox open source?</div>
                <div class="faq-answer">
                    <p>
                        Yes! dogbox.moe is fully open source under the MIT
                        license. View the code, contribute, or self-host:
                    </p>
                    <p>
                        <a
                            href="https://github.com/meltingscales/dogbox.moe"
                            target="_blank"
                            >github.com/meltingscales/dogbox.moe</a
                        >
                    </p>
                </div>

                <div class="faq-question">üíæ Can I self-host dogbox?</div>
                <div class="faq-answer">
                    <p>Absolutely! dogbox is designed for easy self-hosting:</p>
                    <pre
                        style="
                            background: #f4f4f4;
                            padding: 15px;
                            border-radius: 8px;
                            overflow-x: auto;
                        "
                    ><code>git clone https://github.com/meltingscales/dogbox.moe
cd dogbox.moe
cp .env.example .env
cargo run

# Or with Docker:
docker build -t dogbox .
docker run -p 8080:8080 dogbox</code></pre>

                    <p>
                        See the
                        <a
                            href="https://github.com/meltingscales/dogbox.moe#readme"
                            >README</a
                        >
                        for full deployment instructions.
                    </p>
                </div>

                <div class="faq-question">üîê Is this really secure?</div>
                <div class="faq-answer">
                    <p>
                        dogbox provides strong privacy guarantees, but like any
                        system, security depends on proper use:
                    </p>

                    <p><strong>What dogbox protects against:</strong></p>
                    <ul>
                        <li>Server compromise (encrypted blobs only)</li>
                        <li>
                            Network eavesdropping (TLS + client-side encryption)
                        </li>
                        <li>
                            Malicious server operators (zero-knowledge design)
                        </li>
                    </ul>

                    <p><strong>What dogbox CANNOT protect against:</strong></p>
                    <ul>
                        <li>
                            Compromised client device (malware on your computer)
                        </li>
                        <li>
                            Sharing links publicly (anyone with the URL can
                            decrypt)
                        </li>
                        <li>
                            Screen recording or shoulder surfing while viewing
                            files
                        </li>
                    </ul>

                    <div class="warning-box">
                        <strong>Remember:</strong> The encryption key is in the
                        URL. If you share the full URL, you're sharing the
                        ability to decrypt the file!
                    </div>
                </div>

                <div class="faq-question">
                    üìû How do I report security issues?
                </div>
                <div class="faq-answer">
                    <p>
                        <strong>DO NOT OPEN AN ISSUE IN GITHUB. </strong>

                        This will broadcast the vulnerability to the entire
                        world. Instead, please report vulnerabilities privately
                        here:
                        <a
                            href="https://github.com/meltingscales/dogbox.moe/security/advisories"
                            >https://github.com/meltingscales/dogbox.moe/security/advisories</a
                        >
                    </p>
                </div>
            </div>
        </div>

        <script src="/static/js/config.js"></script>
        <script src="/static/js/banner.js"></script>
        <script src="/static/js/init.js"></script>
        <script>
            // Initialize page (loads navbar and banners)
            initializePage();
        </script>
        <script src="/static/console-warning.js"></script>
    </body>
</html>
